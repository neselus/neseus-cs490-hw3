{
  "version": 3,
  "sources": ["../../../src/services/comments/comments.js"],
  "sourcesContent": ["import { requireAuth } from 'src/lib/auth'\nimport { db } from 'src/lib/db'\n\nexport const comments = ({ postId }) => {\n  return db.comment.findMany({ where: { postId } })\n}\n\nexport const comment = ({ id }) => {\n  return db.comment.findUnique({\n    where: { id },\n  })\n}\n\nexport const Comment = {\n  post: (_obj, { root }) =>\n    db.comment.findUnique({ where: { id: root.id } }).post(),\n}\n\nexport const createComment = ({ input }) => {\n  return db.comment.create({\n    data: input,\n  })\n}\n\nexport const deleteComment = ({ id }) => {\n  requireAuth({ roles: 'moderator' })\n  return db.comment.delete({\n    where: { id },\n  })\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;AAAA;;;;;;;;;kBAAoB;AACpB,gBAAW;AAEJ,MAAMA,WAAWA,CAAC;EAAEC;AAAO,MAAM;AACtC,SAAOC,aAAGC,QAAQC,SAAS;IAAEC,OAAO;MAAEJ;IAAO;EAAE,CAAC;AAClD;AAEO,MAAME,UAAUA,CAAC;EAAEG;AAAG,MAAM;AACjC,SAAOJ,aAAGC,QAAQI,WAAW;IAC3BF,OAAO;MAAEC;IAAG;EACd,CAAC;AACH;AAEO,MAAME,UAAU;EACrBC,MAAMA,CAACC,MAAM;IAAEC;EAAK,MAClBT,aAAGC,QAAQI,WAAW;IAAEF,OAAO;MAAEC,IAAIK,KAAKL;IAAG;EAAE,CAAC,EAAEG,KAAK;AAC3D;AAEO,MAAMG,gBAAgBA,CAAC;EAAEC;AAAM,MAAM;AAC1C,SAAOX,aAAGC,QAAQW,OAAO;IACvBC,MAAMF;EACR,CAAC;AACH;AAEO,MAAMG,gBAAgBA,CAAC;EAAEV;AAAG,MAAM;AACvCW,+BAAY;IAAEC,OAAO;EAAY,CAAC;AAClC,SAAOhB,aAAGC,QAAQgB,OAAO;IACvBd,OAAO;MAAEC;IAAG;EACd,CAAC;AACH;",
  "names": ["comments", "postId", "db", "comment", "findMany", "where", "id", "findUnique", "Comment", "post", "_obj", "root", "createComment", "input", "create", "data", "deleteComment", "requireAuth", "roles", "delete"]
}
